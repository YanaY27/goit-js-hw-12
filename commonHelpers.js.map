{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["\n\nexport function getPhotos(q) {\n  const API_KEY = '43325710-e7e524061030eee35d9931e23';\n  const baseUrl = 'https://pixabay.com/api';\n\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${baseUrl}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","const loader = document.querySelector('.js-loader');\n\nexport function createGalleryMarkup(array) {\n  return array\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-items\">      \n          <div class=\"gallery-item\">\n            <a  href=\"${largeImageURL}\">\n            <img  data-source=${largeImageURL} src=\"${webformatURL}\" alt=\"${tags}\" >\n           </a>\n          </div>\n          <div class=\"photo-info\">\n            <div>\n             <p class=\"photo-title\">Likes:</p> \n             <p class=\"photo-num\"> ${likes}</p>\n            </div>\n            <div>\n              <p class=\"photo-title\">Views:</p>\n              <p class=\"photo-num\"> ${views}</p>\n            </div>\n            <div>\n             <p class=\"photo-title\">Comments:</p>\n             <p class=\"photo-num\"> ${comments}</p>\n            </div>\n            <div>\n             <p class=\"photo-title\">Downloads:</p>\n             <p class=\"photo-num\"> ${downloads}</p>\n            </div>\n          </div>\n      </li>`\n    )\n    .join('');\n}\n\nexport function showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nexport function hiddeLoader() {\n  loader.classList.add('is-hidden');\n}\n\n\n\n\n\n\n\n\n\n\n\n\n// export function displayImages(images) {\n//     const gallery = document.getElementById('gallery');\n//     gallery.innerHTML = '';\n  \n//     images.forEach(image => {\n//       const imgLink = document.createElement('a');\n//       imgLink.href = image.largeImageURL;\n  \n//       const imgElement = document.createElement('img');\n//       imgElement.src = image.webformatURL;\n//       imgElement.alt = image.tags;\n  \n//       imgLink.appendChild(imgElement);\n//       gallery.appendChild(imgLink);\n//     });\n  \n//     // Оновлення галереї SimpleLightbox\n//     const lightbox = new SimpleLightbox('.gallery a');\n//     lightbox.refresh();\n//   }","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getPhotos } from \"./js/pixabay-api.js\";\nimport { createGalleryMarkup } from \"./js/render-function.js\";\nimport { showLoader, hiddeLoader } from \"./js/render-function.js\";\n\n const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n\n const gallery = document.querySelector(\".gallery\");\n const form = document.querySelector(\".js-form\");\n const loader = document.querySelector(\".js-loader\");\n\n\n\n  \n  form.addEventListener(\"submit\", onSubmit);\n  \n  function onSubmit(event) {\n    event.preventDefault();\n    const imgPhoto = event.currentTarget.elements.search.value.trim();\n    showLoader();\n    gallery.innerHTML = '';\n    if (!imgPhoto) {\n        gallery.innerHTML = '';\n        hiddeLoader();\n        event.target.reset();\n        return iziToast.error({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n        });\n      }  \n  \n  \n  getPhotos(imgPhoto)\n  .then(data => {\n    if (data.hits.length === 0) {\n      gallery.innerHTML = '';\n      event.target.reset();\n      return iziToast.error({\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        position: 'topRight',\n      });\n    }\n\n      gallery.innerHTML = createGalleryMarkup(data.hits);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hiddeLoader();\n    });\n  form.reset();\n}\n\n\n\n\n\n \n\n"],"names":["getPhotos","q","API_KEY","baseUrl","params","res","loader","createGalleryMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoader","hiddeLoader","lightbox","SimpleLightbox","gallery","form","onSubmit","event","imgPhoto","iziToast","data","error"],"mappings":"6vBAEO,SAASA,EAAUC,EAAG,CAC3B,MAAMC,EAAU,qCACVC,EAAU,0BAGVC,EAAS,IAAI,gBAAgB,CACjC,IAAKF,EACL,EAAAD,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGE,CAAO,KAAKC,CAAM,EAAE,EAAE,KAAKC,GAAO,CAChD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCrBA,MAAMC,EAAS,SAAS,cAAc,YAAY,EAE3C,SAASC,EAAoBC,EAAO,CACzC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,wBAEgBL,CAAa;AAAA,gCACLA,CAAa,SAASD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAM3CC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAIJC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAINC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA,YAIzC,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAa,CAC3BV,EAAO,UAAU,OAAO,WAAW,CACrC,CAEO,SAASW,GAAc,CAC5BX,EAAO,UAAU,IAAI,WAAW,CAClC,CCnCC,MAAMY,EAAW,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAClB,CAAG,EAGIC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,UAAU,EAC/B,SAAS,cAAc,YAAY,EAKjDA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAWD,EAAM,cAAc,SAAS,OAAO,MAAM,OAG3D,GAFAP,IACAI,EAAQ,UAAY,GAChB,CAACI,EACD,OAAAJ,EAAQ,UAAY,GACpBH,IACAM,EAAM,OAAO,QACNE,EAAS,MAAM,CACpB,QAAS,2EACT,SAAU,UACpB,CAAS,EAIPzB,EAAUwB,CAAQ,EACjB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAAN,EAAQ,UAAY,GACpBG,EAAM,OAAO,QACNE,EAAS,MAAM,CACpB,QAAS,2EACT,SAAU,UAClB,CAAO,EAGDL,EAAQ,UAAYb,EAAoBmB,EAAK,IAAI,EACjDR,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbV,GACN,CAAK,EACHI,EAAK,MAAK,CACZ"}